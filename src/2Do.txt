NGS diagnostics
===============

Task list in SharePoint:
https://teamwerk.lumc.nl/sites/LOVD_plus/Lists/Tasks/Current%20tasks.aspx

2016-11-08
\item[$\circ$] KG: Is it logged in LOVD+, who makes the export for Miracle?



2016-10-25
\item[$\circ$] KG: Can conversion and import runs be emailed to me?
\item[$\circ$] Sander: Discussion about new APIs implemented around Miracle and Prinia. He will create wrappers around
      Miracle, and the ZIS/HiX IDs will then be imported by the API pushing the IDs to me. Much better than my polling,
      I'd say. Send back HTTP 2xx status code (he suggested 202 but that means it'll be processed later, so 201 Created
      or just 200 OK?) when data has been processed successfully. It's just a JSON array with integer pairs, so we don't
      have to worry here about JSON schemas, right?
\item[$\circ$] Similarly, Prinia will no longer send data to Miracle because it will become independent. But creating
      primers will be a fast process. So LOVD will send (some) data to Prinia, wait, then take the Prinia output
      together with more info if needed for Miracle, and send that to Miracle. If this fails anywhere, it's OK for LOVD
      to start over the entire process.



2016-09-13
\item[$\circ$] KG: Filtering: If gene has an important transcript, then the pipleine will filter on it. Pipeline should
      be able to filter on multiple transcripts. If no transcripts are known to the pipeline, it will not filter at
      all, except for repeated NCBI IDs. In LOVD+, KG will select relevant transcripts for genes in genpanels. When
      gene has a transcript set, and only when there is not another gene panel set where this gene does not have a
      transcript configured, will the transcript be passed to the pipleine. LOVD will also use this transcript that has
      been configured to decide which one will be sent to Miracle. Write this down, send to Sander, then to group. What
      we will write is for the official decision.



2016-03-22
\item[$\circ$] KG: Can we use the transcript ID also for export of the variants to Miracle? Of course it would be
      possible to maybe end up with more than one transcript ID for a certain individual, because multiple analyses
      could have been run on it, and multiple analyses can have multiple panels and therefore multiple preferred
      transcripts. But I could write a SELECT statement that orders by preferred or not, and limits to 1 result. Also,
      they usually remove manually the other transcripts, can this be stored automatically as a preferred transcript?



2016-03-08
\item[$\circ$] KG: New: Manager should be able to change ownership of analysis to a different analyzer.
\item[$\circ$] KG: New: You should be able to send ``No variants found'' to Miracle. We need to see how to do this, but
      in principle, no variants will be marked, so we can see this in LOVD by counting the number of marked variants.



2016-02-03
- Import: Can we save memory, by loading the (variant) IDs only when needed for the first time? LOVD+ files will never reference to variant IDs not in the file.



2016-02-02
\item[$\circ$] Label variants during import: to decrease time and to make things easier, put it as a filter? Not a bad
      idea, but it will require a difference to be made between variants just imported, and variants set to VUS.



2016-01-12
\item[$\circ$] KG: Miracle needs some code back from the primerdesign software, that indicates what type of analysis has
      been done. This is new. So we need to put those codes in LOVD, so that LOVD can somehow generate these values in
      the output towards the primerdesign software, which will pass it on to Miracle. I don't know the values, neither
      does Adri. We'll check when this thing starts, I guess.



2015-12-08
\item[$\circ$] When exporting data to Miracle, include which person did this. Need to discuss with Gijs. Very, very low priority.



2015-11-10
\item[$\circ$] Disallow modifications of disease panels in PROD. Better in code?



2015-09-15
\item[$\circ$] KG: Misschien is VOT/Position not even needed? Check in code...



// VOG/Reference staat aan bij Prod en Test, en is HGVS standaard, dus kan niet uit. Niet gecontroleerd of in gebruik.



Check all code for mappingInfo calls, and sort transcript position fields if genomic var was given (map_variants.php en variants.php (veel calls)

Het zou mooi zijn als het in het gefilterde variantenscherm te zien zou zijn wanneer er een opmerking is ingevuld bij de betreffende variant, bijvoorbeeld middels een icoontje.

Prioriteiten lijst
==================
- Pathogene varianten altijd tonen.
- Validatie scripts (Selenium)

Extra:
- Import: De score van varianten die al eerder gezien zijn, moet worden
  overgenomen tijdens het importeren (bij minimaal 3x dezelfde score).



// 2014-03-18
// MappingInfo fix overal in map_variants.php aanpassen.

// Zoek veld ingevuld? Kleurtje er in. JS?
// reCAPTCHA uitzetten? Niet nodig voor KG, maar als het systeem ooit uitgegeven wordt en online komt te staan, dan weer wel...

SSL op server?
Verandering aan variants.php (isset() toegevoegd) zodat niet-seattleseq files kunnen worden verwerkt, moet ook naar trunk.

// Validatie. Hoe gaan we dit doen. Selenium scripts schrijven
voor import van standaard input files en analyse. Output moet altijd hetzelfde zijn.



2Do:
====
SSL?

Project 2Do file:
ONTWIKKELING SYSTEEM
================================================================================
- Interface wijzigingen
  + Pathogene varianten verschijnen dan als resultaat in alle analyses, ongeacht
    of ze er eerder door die filters waren uitgefilterd. Ze zouden in dat geval
    wel gemarkeerd moeten worden, zodat duidelijk is dat ze er tussen staan
    omdat ze eerder gemarkeerd zijn als mogelijk pathogeen.



- Later:
  + Varianten die eerder in een analyse zijn aangeduid als wel- of niet-patho-
    geen, zouden bij andere patienten direct een vlaggetje moeten krijgen.
    Wellicht doen we dat alleen, als de staf heeft bevestigd (gebruik het twee
    stappen systeem van LOVD's variante effect?)

  + Ook voor later, is een interface waarbij nieuwe analyses samengesteld kunnen
    worden door gebruikers of staf (of een tussen niveau). Analyse krijgt een
    naam, de gebruiker kiest de filterstappen (en de volgorde), en vanaf dat
    moment kan de analyse gerund worden. De filterstappen moeten wel door mij
    aangemaakt worden, omdat er code voor geschreven moet worden.

  + Ook mogelijk iets voor later: Peter Robinson noemde Exomizer in zijn presen-
    tatie op de NVHG; een tool die genen selecteert waar je naar zou moeten
    kijken gebaseerd op HPO termen en aandoeningen. Maar ik ga er van uit, dat
    we geen HPO termen of aandoeningen hebben.
    Het importeert pathogenicity scores, vergelijkt de phenotype data ook met
    andere organismen om de genen te vinden. Mode of inheritance kan de selectie
    op genen verder verbeteren. Exomizer is gratis, maar een extern pakket (je
    moet je varianten daar inladen).
